nsapp = NSApplication sharedApplication

\ Create the menubar
menuBar     = NSMenu new
appMenuItem = NSMenuItem new
menuBar addItem: appMenuItem
nsapp setMainMenu: menuBar

\ Add the Application menu & the quit item
appMenu      = NSMenu new
quitMenuItem = NSMenuItem alloc initWithTitle: "Quit #{NSProcessInfo processInfo processName}"
                                       action: "terminate:"
                                keyEquivalent: "q"
appMenu addItem: quitMenuItem
appMenuItem setSubmenu: appMenu

\ Create a window
win = NSWindow alloc initWithContentRect: #[NSZeroPoint, [300, 200]]
                               styleMask: NSTitledWindowMask
                                 backing: NSBackingStoreBuffered
                                   defer: 0
win#title = "Tranquil!"
win makeKeyAndOrderFront: nil

view = NSTextField alloc initWithFrame: (win contentView bounds)
view#stringValue = "Hey!"
win contentView addSubview: view

\ Start the app
nsapp setActivationPolicy: NSApplicationActivationPolicyRegular
nsapp activateIgnoringOtherApps:1
nsapp run
